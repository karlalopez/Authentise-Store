<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Authentise store by karlalopez</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Authentise store</h1>
      <h2 class="project-tagline">e-Commerce for 3D printing using Authentise</h2>
      <a href="https://github.com/karlalopez/Authentise-Store" class="btn">View on GitHub</a>
      <a href="https://github.com/karlalopez/Authentise-Store/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/karlalopez/Authentise-Store/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="authentise-store" class="anchor" href="#authentise-store" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authentise-Store</h1>

<p><a href="http://www.authentise.com">www.authentise.com</a></p>

<p>This is a very simple example of an e-commerce website to sell designs for 3D printing using Authentise design streaming.</p>

<p>It's a work in progress, has a lot of restrictions and is meant to be a starting point for people building their own stores.</p>

<p>In addition to Authentise, the services used are: Stripe, Mailgun, and Heroku.</p>

<p>Learn more about Authentise design streaming at <a href="http://authentise.com/tech">http://authentise.com/tech</a>.</p>

<p>Please leave your comments and suggestions. Feedback and pull requests are very welcome.</p>

<p>Special thanks to Jennie Lees. Most of this code was written under her watch and pretty much all this wonderful step-by-step tutorial has been written by her. Visit her portfolio: <a href="http://jennielees.github.io">http://jennielees.github.io</a>.</p>

<h1>
<a id="running-locally" class="anchor" href="#running-locally" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running locally</h1>

<p>First, get it ready to run locally:</p>

<ul>
<li><p>Signup for Stripe.com. Go to Your account &gt;&gt; Account Settings &gt;&gt; API Keys. You will need this keys soon.</p></li>
<li><p>Sign up for Mailgun free account at <a href="https://mailgun.com">https://mailgun.com</a>. You’ll need a few pieces of information from the Mailgun control panel before moving forward:</p></li>
</ul>

<ol>
<li>API Key</li>
<li><p>Sandbox Domain URL (should look like "sandboxc6235728hdkjehf283hajf13a90679.mailgun.org"
Both of these pieces of information can be found on the landing page of the Mailgun control panel.</p></li>
</ol>

<ul>
<li><p>Contact Authentise to get an API key for the Design Streaming service. </p></li>
<li><p>Install Postgres: 
Mac - <a href="http://postgresapp.com/">http://postgresapp.com/</a>
Windows - <a href="http://www.postgresql.org/download/windows/">http://www.postgresql.org/download/windows/</a>
Ubuntu - 'apt-get install postgresql'.</p></li>
<li><p>On Terminal, type psql.</p></li>
</ul>

<pre><code>$ psql
</code></pre>

<ul>
<li>Now create the database typing:</li>
</ul>

<pre><code>create database store;
</code></pre>

<ul>
<li>To exit postgres just type:</li>
</ul>

<pre><code>\q
</code></pre>

<ul>
<li><p>If you don't have a Github account, create one. If you don't know Git, do a quick online tutorial to figure out how it works. Help: try.github.io</p></li>
<li><p>Fork this repo, and then clone it locally. Help: <a href="https://help.github.com/articles/fork-a-repo/">https://help.github.com/articles/fork-a-repo/</a></p></li>
<li><p>On Terminal, go to your forked repo.</p></li>
<li><p>Also on Terminal, run the following code to install required dependencies:
<code>$ sudo pip install -r requirements.txt</code> </p></li>
<li><p>Now export the variables for your Authentise, Mailgun and Stripe TEST keys:</p></li>
</ul>

<pre><code>$ export STRIPE_SECRET_KEY="your_stripe_TEST_secret_key"
</code></pre>

<pre><code>$ export STRIPE_PUBLISHABLE_KEY="your_stripe_TEST_publishable_key"
</code></pre>

<pre><code>$ export AUTHENTISE_API_KEY="your_authentise_key"
</code></pre>

<pre><code>$ export MAILGUN_API_KEY="your_mailgun_api_key"
</code></pre>

<pre><code>$ export MAILGUN_SANDBOX_DOMAIN_URL="your_mailgun_sandbox_domain_url"
</code></pre>

<ul>
<li><p>On <code>static/images</code> replace the file <code>cover.png</code> with the image background for your home. Ideally, it should be at least 1800 px wide.</p></li>
<li><p>On <code>app.py</code>, setup your shop name and tagline:
Enter here your shop name and tagline
shop_name = "Shop name"
shop_tagline = "Best shop tagline ever"</p></li>
<li><p>Run <code>models.py</code> on Terminal, to create the database:
<code>$ python models.py</code> </p></li>
<li><p>Push  your changes to your repo:</p></li>
</ul>

<pre><code>$ git commit -a -m "My custom store"
$ git push
</code></pre>

<h1>
<a id="deploying-it" class="anchor" href="#deploying-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deploying it</h1>

<ul>
<li><p>First, create a Heroku account: <a href="https://signup.heroku.com/">https://signup.heroku.com/</a></p></li>
<li><p>Install the Heroku Toolbelt: <a href="https://toolbelt.heroku.com/">https://toolbelt.heroku.com/</a></p></li>
<li><p>Login to Heroku on Terminal:</p></li>
</ul>

<pre><code>$ heroku login
Enter your Heroku credentials.
Email: your@email.com
Password:
Authentication successful.
</code></pre>

<ul>
<li>Install the Python package gunicorn</li>
</ul>

<pre><code>$ pip install gunicorn
</code></pre>

<ul>
<li>Now you are going to create a 'Procfile' with the following content 'web: gunicorn app:app --log-file=-'. If you know how to do it, good. If you don't, here's a suggestion: </li>
</ul>

<pre><code>vim Procfile
</code></pre>

<p>You should be in the VIM editor now. Press the key 'i' in your keyboard. </p>

<p>Paste or type the followin line:</p>

<pre><code>web: gunicorn app:app --log-file=-
</code></pre>

<p>Press the key 'ESC' on your keyboard.</p>

<p>Type ':w' and then ':q'</p>

<p>To make sure it's done, display the file content doing:</p>

<pre><code>$ cat Procfile
</code></pre>

<p>Check this works with 'foreman':</p>

<pre><code>$ foreman start
</code></pre>

<ul>
<li>If everything is fine, add 'Procfile' to the git repo.</li>
</ul>

<pre><code>$ git add Procfile
$ git commit -m "Getting ready for Heroku"
</code></pre>

<ul>
<li>You are ready to create a new Heroku app. This creates a new app and sets up the Git remote heroku for you to push code to.</li>
</ul>

<pre><code>$ heroku create
</code></pre>

<ul>
<li>To deploy, push the code via Git:</li>
</ul>

<pre><code>$ git push heroku
</code></pre>

<ul>
<li>Wwhen the deploy is done, you should see the URL of your new Heroku app:</li>
</ul>

<pre><code>remote: -----&gt; Discovering process types
remote:        Procfile declares types -&gt; web
remote:
remote: -----&gt; Compressing... done, 37.2MB
remote: -----&gt; Launching... done, v3
remote:        https://desolate-beyond-5764.herokuapp.com/ deployed to Heroku
remote:
remote: Verifying deploy.... done.
To https://git.heroku.com/desolate-beyond-5764.git
</code></pre>

<p>You can then visit that URL in your browser.</p>

<ul>
<li>You can rename your app to customize your URL:</li>
</ul>

<pre><code>$ heroku rename my_store_name
</code></pre>

<p>Now your URL will be '<a href="http://my_store_name.herokuapp.com">http://my_store_name.herokuapp.com</a>'.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/karlalopez/Authentise-Store">Authentise store</a> is maintained by <a href="https://github.com/karlalopez">karlalopez</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71837581-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
